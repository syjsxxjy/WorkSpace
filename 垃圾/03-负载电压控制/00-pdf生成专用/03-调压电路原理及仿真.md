[TOC]
## PWMで電力制御回路
### 1.抵抗だけにかかる電力計算
$$P=I^2R$$（平均電力）  
### 2.パルス駆動回路
![52962280950](https://syjsxxjy.github.io/myblog/assets/tp/Animation.gif)  

| PWM信号  | MOSFET－N  | 抵抗   |
| ------ | ------  | ------  |
| ![52962293488](https://syjsxxjy.github.io/myblog/assets/tp/1529622934884.png)  |  ![52962310210](https://syjsxxjy.github.io/myblog/assets/tp/1529623102109.png)  |  ![52962315314](https://syjsxxjy.github.io/myblog/assets/tp/1529623153148.png)  |

### 3.実際電力の計算
![52962385786](https://syjsxxjy.github.io/myblog/assets/tp/1529623857864.png)  

| パルス信号の入力  | 抵抗Rの出力電流(高い部分):   | MOSFETのVDS間の電圧出力(高い部分):  |
| ---- | ---- | ---- |
| ![52962397017](https://syjsxxjy.github.io/myblog/assets/tp/1529623970174.png) | ![52962402818](https://syjsxxjy.github.io/myblog/assets/tp/1529624028182.png) | ![52962410781](https://syjsxxjy.github.io/myblog/assets/tp/1529624107818.png) |
1．ここで，ロード抵抗の出力は $$P\approx I^2·R=0.05^2\times 100=0.25[w]$$,MOSFETのVds間の電位差と電力消費はほぼ0になり，ショート状態（スイッチON）と考えられる 。  

2．パルス信号のDutyCycleは50％，半分の電量をロードに供給すると考えられる。  

$$平均電力消費: P\approx I^2·R·DutyCycle%$$   

3．パルス信号のDutyCycleを変えると抵抗実際の発熱量も制御できる。

##　MOSFET駆動回路

1．RaspberryPiのPWM出力のHighレベルは3.3V，MOSFETはほとんど４V 駆動なので，MOSFETを駆動するために，駆動回路が必要です。  
### MOSFET駆動回路
![52902465525](https://syjsxxjy.github.io/myblog/assets/tp/1529024655255.png)  
1.Q1とQ2はスイッチとして使われる。  
2.PWMの高い信号が入ると，Q1 は接続して，Q2が切断状態になる。  
3.MOSFETはスイッチとして使われる。   
### 素子の型番
| 素子 | 型番/仕様    | DataSheet  |
| ----- | -----| ------ |
| MOSFET         | 2sk4017 60V5A             | http://akizukidenshi.com/catalog/g/gI-07597/ |
| 抵抗           | 6.8k$\Omega$　330$\Omega$ |                                              |
| トランジスター | MMBT3906                  | http://akizukidenshi.com/catalog/g/gI-05967/ |
|                |                           |                                              |

## シミュレートの結果

http://tinyurl.com/ybn3uk5n  
![52962402818](https://syjsxxjy.github.io/myblog/assets/tp/Animation2.gif)  
